<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>AI æç¤ºè¯ç®¡ç† - ç®¡ç†åå°</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        .prompts-section {
            margin-bottom: 2rem;
            padding: 1rem;
            background: #f9f9f9;
            border-radius: 4px;
        }
        
        .prompts-section h2 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 0.5rem;
        }
        
        .prompt-item {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .prompt-item h3 {
            margin-top: 0;
            color: #34495e;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-pack: justify;
            -webkit-justify-content: space-between;
            -ms-flex-pack: justify;
            justify-content: space-between;
            -webkit-box-align: center;
            -webkit-align-items: center;
            -ms-flex-align: center;
            align-items: center;
        }
        
        .prompt-template {
            background: #f5f5f5;
            padding: 0.75rem;
            border-left: 3px solid #3498db;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .prompt-actions {
            margin: 0;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-flex-wrap: nowrap;
            -ms-flex-wrap: nowrap;
            flex-wrap: nowrap;
            -webkit-box-align: center;
            -webkit-align-items: center;
            -ms-flex-align: center;
            align-items: center;
            gap: 0.5rem;
            -webkit-flex-shrink: 0;
            -ms-flex-negative: 0;
            flex-shrink: 0;
        }
        
        /* form æ ‡ç­¾ä¹Ÿè¦åœ¨åŒä¸€è¡Œ */
        .prompt-actions form {
            margin: 0;
            padding: 0;
            display: inline-block;
        }
        
        /* ç»Ÿä¸€æŒ‰é’®åŸºç¡€æ ·å¼ - å®Œå…¨é‡ç½®æ‰€æœ‰é»˜è®¤æ ·å¼ */
        .prompt-actions button,
        .prompt-actions a {
            /* é‡ç½®æ‰€æœ‰æµè§ˆå™¨é»˜è®¤æ ·å¼ */
            all: unset;
            
            /* å¸ƒå±€ */
            display: inline-flex;
            -webkit-box-align: center;
            -webkit-align-items: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            -ms-flex-pack: center;
            justify-content: center;
            width: 60px;
            height: 32px;
            
            /* æ–‡å­— */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            font-size: 0.875rem;
            text-align: center;
            text-decoration: none;
            color: white;
            font-weight: 400;
            
            /* è¾¹æ¡†å’ŒèƒŒæ™¯ */
            border: none;
            border-radius: 4px;
            background: #3498db;
            
            /* äº¤äº’ */
            cursor: pointer;
            -webkit-transition: background-color 0.2s ease;
            transition: background-color 0.2s ease;
            
            /* ç›’æ¨¡å‹ */
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            
            /* é˜²æ­¢æ–‡å­—é€‰ä¸­ */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* ç¼–è¾‘æŒ‰é’® */
        .btn-edit {
            background: #3498db;
        }
        
        .btn-edit:hover {
            background: #2980b9;
        }
        
        /* åˆ‡æ¢æŒ‰é’®ï¼ˆå¯ç”¨/åœç”¨ï¼‰ */
        .btn-toggle {
            background: #95a5a6;
        }
        
        .btn-toggle:hover {
            background: #7f8c8d;
        }
        
        /* ç§»é™¤ a æ ‡ç­¾çš„é»˜è®¤æ ·å¼ */
        .prompt-actions a:visited {
            color: white;
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            border-radius: 3px;
            margin-left: 0.5rem;
        }
        
        .badge-active {
            background: #27ae60;
            color: white;
        }
        
        .badge-inactive {
            background: #e74c3c;
            color: white;
        }
        
        .badge-system {
            background: #9b59b6;
            color: white;
        }
        
        .badge-function {
            background: #f39c12;
            color: white;
        }
        
        @media screen and (max-width: 480px) {
            .prompt-actions {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
            }
            
            .prompt-actions button,
            .prompt-actions a {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¤– AI æç¤ºè¯ç®¡ç†</h1>
        
        <!-- åŠŸèƒ½å¯¼èˆªï¼ˆå·²ç§»é™¤å¤šä½™é¡¹ï¼‰ -->
        
        <!-- System Prompts -->
        <div class="prompts-section">
            <h2>ç³»ç»Ÿé¢„è®¾æç¤ºè¯ï¼ˆå…¨å±€ç”Ÿæ•ˆï¼‰</h2>
            <p style="color: #7f8c8d; font-size: 0.9rem;">
                ç³»ç»Ÿæç¤ºè¯å®šä¹‰ AI çš„èº«ä»½å’ŒåŸºæœ¬åŸåˆ™ï¼Œå¯¹æ‰€æœ‰å¯¹è¯ç”Ÿæ•ˆã€‚
            </p>
            
            <% if (systemPrompts.length === 0) { %>
                <p style="color: #e74c3c;">æš‚æ— ç³»ç»Ÿæç¤ºè¯</p>
            <% } else { %>
                <% systemPrompts.forEach(function(prompt) { %>
                    <div class="prompt-item">
                        <h3>
                            <span>
                                <%= prompt.prompt_name %>
                                <span class="badge badge-system">ç³»ç»Ÿ</span>
                                <span class="badge <%= prompt.is_active ? 'badge-active' : 'badge-inactive' %>">
                                    <%= prompt.is_active ? 'å¯ç”¨' : 'åœç”¨' %>
                                </span>
                            </span>
                            <div class="prompt-actions">
                                <a href="/admin/prompts/edit/<%= prompt.id %>" class="btn-edit">ç¼–è¾‘</a>
                                <form method="post" action="/admin/prompts/toggle/<%= prompt.id %>" style="display: inline;">
                                    <button type="submit" class="btn-toggle">
                                        <%= prompt.is_active ? 'åœç”¨' : 'å¯ç”¨' %>
                                    </button>
                                </form>
                            </div>
                        </h3>
                        
                        <div class="prompt-template"><%= prompt.prompt_template %></div>
                    </div>
                <% }); %>
            <% } %>
        </div>
        
        <!-- Function Prompts -->
        <div class="prompts-section">
            <h2>åŠŸèƒ½æç¤ºè¯ï¼ˆå…·ä½“ä»»åŠ¡ï¼‰</h2>
            <p style="color: #7f8c8d; font-size: 0.9rem;">
                åŠŸèƒ½æç¤ºè¯ç”¨äºç‰¹å®šä»»åŠ¡ï¼ˆç»æ–‡æ€»ç»“ã€å†å²èƒŒæ™¯ç­‰ï¼‰ï¼Œä¼šé™„åŠ åœ¨ç³»ç»Ÿæç¤ºè¯ä¹‹åã€‚
            </p>
            
            <% if (functionPrompts.length === 0) { %>
                <p style="color: #e74c3c;">æš‚æ— åŠŸèƒ½æç¤ºè¯</p>
            <% } else { %>
                <% functionPrompts.forEach(function(prompt) { %>
                    <div class="prompt-item">
                        <h3>
                            <span>
                                <%= prompt.prompt_name %>
                                <span class="badge badge-function"><%= prompt.function_type %></span>
                                <span class="badge <%= prompt.is_active ? 'badge-active' : 'badge-inactive' %>">
                                    <%= prompt.is_active ? 'å¯ç”¨' : 'åœç”¨' %>
                                </span>
                            </span>
                            <div class="prompt-actions">
                                <a href="/admin/prompts/edit/<%= prompt.id %>" class="btn-edit">ç¼–è¾‘</a>
                                <form method="post" action="/admin/prompts/toggle/<%= prompt.id %>" style="display: inline;">
                                    <button type="submit" class="btn-toggle">
                                        <%= prompt.is_active ? 'åœç”¨' : 'å¯ç”¨' %>
                                    </button>
                                </form>
                            </div>
                        </h3>
                        
                        <div class="prompt-template"><%= prompt.prompt_template %></div>
                    </div>
                <% }); %>
            <% } %>
        </div>
        
        <div class="nav-links">
            <a href="/admin">è¿”å›ç®¡ç†é¦–é¡µ</a>
            <a href="/">è¿”å›ç½‘ç«™é¦–é¡µ</a>
        </div>
    </div>
    <script src="/js/toast.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
